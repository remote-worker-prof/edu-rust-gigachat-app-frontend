# Частые проблемы (учебная версия)

Документ предназначен для начинающих. Каждый пункт объясняет, почему
проблема возникает, и что делать дальше.

## 1. API недоступно

**Симптом:** UI показывает ошибку или статус не обновляется.

**Причины:**
- backend не запущен;
- указан неверный адрес или порт;
- порт занят другим процессом.

**Решение:**
- убедиться, что backend запущен командой `cargo run`;
- проверить адрес `http://127.0.0.1:8000/health` в браузере;
- если порт занят — сменить его в настройках сервера или UI.

## 2. Ошибка CORS

**CORS** — защита браузера, которая запрещает запросы между разными
доменами и портами без явного разрешения сервера.

**Причина:** frontend и backend работают на разных портах, а сервер не
разрешил такие запросы.

**Решение:**
- включить CORS на backend (если это предусмотрено заданием);
- использовать прокси или работать в той среде, где CORS уже настроен.

## 3. Пустой ответ или ошибка при отправке вопроса

**Причины:**
- вопрос пустой;
- отправлен неверный JSON;
- сервер вернул ошибку.

**Решение:**
- убедиться, что поле вопроса не пустое;
- проверить формат запроса (см. `docs/api_contract.md`).

## 4. Trunk не найден

**Симптом:** команда `trunk` не выполняется.

**Причина:** Trunk не установлен.

**Решение:**

```bash
cargo install trunk
```

## 5. Отсутствует wasm‑target

**Симптом:** сборка завершается ошибкой о неизвестной цели.

**Решение:**

```bash
rustup target add wasm32-unknown-unknown
```

## 6. Порт занят

**Симптом:** `trunk serve` сообщает, что порт занят.

**Решение:**
- выбрать другой порт, например `8081`:

```bash
NO_COLOR=true trunk serve --address 127.0.0.1 --port 8081
```

## 7. Trunk падает с `invalid value '1' for '--no-color'`

**Причина:** в окружении задано `NO_COLOR=1`, а Trunk ожидает `true/false`.

**Решение:**

```bash
NO_COLOR=true trunk build
```

или

```bash
NO_COLOR=true trunk serve --address 127.0.0.1 --port 8080
```

## 8. Предупреждения от зависимостей

**Причина:** транзитивные библиотеки могут выдавать предупреждения.

**Решение для учебного проекта:**
- считать это известным ограничением;
- не применять форки без отдельного методического решения.
